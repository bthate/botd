#!/usr/bin/python3 -u
# BOTLIB - the bot library !
#
#

## imports

#import os, sys ; sys.path.insert(0, os.getcwd())

from bot.spc import Console, Kernel, __version__
from bot.spc import daemon, execute, os, parse_cli, root

## defines

opts = [
    ('-l', '--loglevel', 'store', str, "debug", 'set loglevel.', 'level'),
    ('-o', '--options', 'store', str, "", "options to use", 'options'),
    ('-w', '--workdir', 'store', str, "", "directory to work on", 'workdir'),
]

## main

def main():
    cfg = parse_cli("bcmd", opts, str(__version__))
    k = Kernel(cfg)
    k.scan("bot")
    return k.cmd(cfg.txt)

execute(main)
