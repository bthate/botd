#!/usr/bin/python3 -u
# BOTLIB - the bot library !
#
#

__version__ = 86

import os, sys ; sys.path.insert(0, os.getcwd())

from bot.csl import Console
from bot.krn import k
from bot.shl import daemon, execute, parse_cli

def main():
    c = parse_cli()
    k.walk("botd")
    if c.txt:
        return k.cmd(c.origtxt)
    if "d" in c.opts:
        daemon()
    elif "s" not in c.opts:
        return
    k.init(c.mods)
    con = Console()
    con.start()
    k.start()
    k.wait()

execute(main)
